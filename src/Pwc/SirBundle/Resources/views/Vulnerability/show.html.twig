{% extends 'PwcSirBundle:Division:one-large.html.twig' %}

{% block contentBody %}
<div class="well">
    {% include 'PwcSirBundle:Vulnerability:_showEntity.html.twig' with { 'entity': entity } %}

    <div class="record_actions">
        {% include "PwcSirBundle:Includes:actions.html.twig" with { 'entity': entity, 'historyRoute': path('vulnerability_history', { 'slug': entity.slug }), 'editRoute': path('vulnerability_edit', { 'slug': entity.slug }), 'deleteRoute': path('vulnerability_delete', { 'slug': entity.slug }) } %}
        <a class="pull-right cancel" href="{{ path('vulnerability') }}">{{ 'form.general.back_list'|trans }}</a>
    </div>
</div>

<div class="well">
    <ul class="entity index">
    {% for description in entity.vulndescriptions %}
        {% if description.language.available %}
            <li class="detail">
                {{ description.language.name|trans }}
                <a href="{{ path('description_new', { 'languageSlug' : description.language.slug, 'vulnerabilitySlug': entity.slug }) }}" class="btn btn-info btn-mini pull-right new">{{ 'form.general.button.new'|trans }}</a>
            </li>
        {% else %}
            <li class="detail{% if loop.index is odd %} color{% endif %}">
                <a href="{{ path('description_show', { 'slug': description.slug }) }}">{{ description.language.name|trans }}</a>
                {% include "PwcSirBundle:Includes:actions.html.twig" with { 'size': 'btn-mini', 'pull': 'pull-right', 'entity': description, 'showRoute': path('description_show', { 'slug': description.slug }), 'editRoute': path('description_edit', { 'slug': description.slug }), 'deleteRoute': path('description_delete', { 'slug': description.slug }) } %}
            </li>
        {% endif %}
    {% endfor %}
    </ul>
</div>

{% include "PwcSirBundle:Includes:deleteModal.html.twig" with { 'delete_form': delete_form } %}

{% endblock contentBody %}