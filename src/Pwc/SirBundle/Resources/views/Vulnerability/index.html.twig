{% extends 'PwcSirBundle:Division:one-large.html.twig' %}
{% form_theme search_form 'PwcSirBundle:Form:fields.html.twig' %}

{% block contentBody %}
<div class="well">
    <form action="{{ path('vulnerability_search') }}" method="post" {{ form_enctype(search_form) }} novalidate>
        {{ form_widget(search_form) }}

        <div class="record_actions">
            <button type="submit" class="btn btn-info">{{ 'form.general.button.search'|trans }}</button>
        </div>

    </form>
</div>

<div class="well">
    <ul class="entity index">
        <li class="detail sort">
            {{ knp_pagination_sortable(pagination, 'name', 'name') }}
        </li>

        {% for entity in pagination %}
            <li class="detail{% if loop.index is odd %} color{% endif %}">
                <a href="{{ path('vulnerability_show', { 'slug': entity.slug }) }}">{{ entity.name|trans }}</a>
                {% include "PwcSirBundle:Includes:actions.html.twig" with { 'size': 'btn-mini', 'pull': 'pull-right', 'entity': entity, 'historyRoute': path('vulnerability_history', { 'slug': entity.slug }), 'showRoute': path('vulnerability_show', { 'slug': entity.slug }), 'editRoute': path('vulnerability_edit', { 'slug': entity.slug }), 'deleteRoute': path('vulnerability_delete', { 'slug': entity.slug }) } %}
            </li>
        {% endfor %}

        <li class="detail new">
            <i class="icon-plus-sign"></i> <a href="{{ path('vulnerability_new') }}">{{ 'form.general.link.add_new'|trans({ '%type%': 'vulnerability' }) }}</a>
        </li>
    </ul>

    <div class="navigation">
        {{ knp_pagination_render(pagination) }}
    </div>

    {% include "PwcSirBundle:Includes:deleteModal.html.twig" with { 'delete_form': delete_form } %}
</div>
{% endblock contentBody %}